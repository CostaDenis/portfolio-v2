@page "/projects"
@using System.Text.Json.Serialization
@using System.Text.Json
@inject HttpClient _Http

<body>

    <div class="flex sm:flex justify-center sm:justify-start items-center sm:items-start
    mt-2 sm:mt-4">

        <h2 class="font-sans text-4xl md:text-5xl lg:text-6xl text-(--ColorSecundary) block">
            Foco profissional
        </h2>

    </div>

    <div class="flex sm:flex justify-center sm:justify-start items-center sm:items-start
    mt-4 sm:mt-8">

        <h3 class="font-sans text-3xl md:text-4xl lg:text-5xl text-(--ColorSecundary) block">
            Stack Principal
        </h3>
    </div>

    <MainBoard />

    <div class="flex sm:flex justify-center sm:justify-start items-center sm:items-start
    mt-12 sm:mt-14 md:mt-16 mb-8 sm:mb-10">

        <h3 class="font-sans text-3xl md:text-4xl lg:text-5xl text-(--ColorSecundary) block
        t-12 sm:mt-14 md:mt-16 mb-8 sm:mb-10">
            Principais projetos
        </h3>
    </div>

    <div class="w-full h-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 
        justify-items-center gap-6 sm:gap-8 lg:gap-10 mb-20 sm:mb-6 md:mb-0">

        @* <ProjectCard Name="simplified-picpay" Path="imgs/Projects/simplified_picpay.svg" Techs="@SimplifiedPicpayTechs"
            Description="API baseada no desafio técnico do PicPay, aprimorada e ampliada."
            Url="https://github.com/CostaDenis/simplified-picpay" DeployUrl="https://simplified-picpay.onrender.com" />

        <ProjectCard Name="Classpions League" Path="imgs/Projects/ClasspionsLeague.svg" Techs="@ClasspionsLeagueTechs"
            Description="Aplicação via console que utiliza o Dapper para gerenciar dados baseados no Campeonato Espanhol
                    de Futebol." Url="https://github.com/CostaDenis/ClasspionsLeague" />

        <ProjectCard Name="TrackMyAssets_API" Path="imgs/Projects/TrackMyAssets.svg" Techs="@TrackMyAssetsTechs"
            Description="API Rest para gerenciar e registrar movimentações de ativos."
            Url="https://github.com/CostaDenis/TrackMyAssets_API" />

        <ProjectCard Name="Hardware Store" Path="imgs/Projects/HardwareStore.svg" Techs="@HardwareStoreTechs"
            Description="Sistema desenvolvido em Windows Forms para o gerenciamento de vendas e estoque desenvolvido para
                    lojas de informática." Url="https://github.com/CostaDenis/Hardware-Store" />

        <ProjectCard Name="calculadora-imc" Path="imgs/Projects/calculadora-imc.svg" Techs="@CalculadoraImcTechs"
            Description="Apicação Blazor WebAssembly desenvolvida para o cálculo do IMC."
            Url="https://github.com/CostaDenis/calculadora-imc"
            DeployUrl="https://costadenis.github.io/calculadora-imc/" /> *@

        @if (MyProjects is null)
        {
            <p>Carregando projetos...</p>
        }
        else
        {

            @foreach (var project in MyProjects)
            {

                <ProjectCard Project="@project" />

            }
        }

    </div>

</body>

@code {

    private List<ProjectDTO>? MyProjects;

    protected override async Task OnInitializedAsync()
    {
        var options = new JsonSerializerOptions
        {
            PropertyNameCaseInsensitive = true
        };

        options.Converters.Add(new JsonStringEnumConverter());

        MyProjects = await _Http.GetFromJsonAsync<List<ProjectDTO>>(
        "Data/Projects.json",
        options
        );
    }

}